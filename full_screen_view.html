<!DOCTYPE html>
<html lang="bn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>sTune - ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé∏</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Noto+Sans+Bengali:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Hide scrollbar globally */
        *::-webkit-scrollbar {
            display: none;
        }

        * {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        html,
        body {
            font-family: 'Noto Sans Bengali', 'Poppins', sans-serif;
            background: #0a0a0a;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        /* Main Container */
        .main-container {
            display: flex;
            width: 100%;
            height: 100%;
        }

        /* App Preview Wrapper */
        .app-preview-wrapper {
            width: 100%;
            height: 100%;
        }

        /* Social Media Section - Hidden on mobile */
        .social-media-section {
            display: none;
        }

        /* Desktop: Show app + social media */
        @media (min-width: 768px) {
            .app-preview-wrapper {
                width: 410px;
                min-width: 410px;
                height: 100%;
                border-right: 1px solid rgba(255, 255, 255, 0.15);
            }

            .social-media-section {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: #0a0a0a;
                overflow-y: auto;
            }

            .social-header {
                padding: 20px 30px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .social-header h2 {
                color: white;
                font-size: 1.5rem;
                font-weight: 700;
                margin-bottom: 5px;
            }

            .social-header p {
                color: rgba(255, 255, 255, 0.6);
                font-size: 0.9rem;
            }

            .social-tabs {
                display: flex;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                padding: 0 30px;
            }

            .social-tab {
                padding: 15px 25px;
                color: rgba(255, 255, 255, 0.6);
                font-size: 0.95rem;
                font-weight: 600;
                cursor: pointer;
                border-bottom: 3px solid transparent;
                transition: all 0.3s;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .social-tab:hover {
                color: white;
            }

            .social-tab.active {
                color: white;
                border-bottom-color: #22C55E;
            }

            .social-tab.youtube.active {
                border-bottom-color: #FF0000;
            }

            .social-tab.facebook.active {
                border-bottom-color: #1877F2;
            }

            .social-tab.tiktok.active {
                border-bottom-color: #000;
            }

            .social-tab svg {
                width: 20px;
                height: 20px;
            }

            .social-content {
                flex: 1;
                padding: 25px 30px;
                overflow-y: auto;
            }

            .social-panel {
                display: none;
            }

            .social-panel.active {
                display: block;
            }

            .channel-info {
                display: flex;
                align-items: center;
                gap: 15px;
                margin-bottom: 25px;
                padding: 20px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
            }

            .channel-avatar {
                width: 60px;
                height: 60px;
                border-radius: 50%;
                background: linear-gradient(135deg, #22C55E, #16a34a);
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
            }

            .channel-details h3 {
                color: white;
                font-size: 1.1rem;
                font-weight: 600;
            }

            .channel-details p {
                color: rgba(255, 255, 255, 0.6);
                font-size: 0.85rem;
            }

            .channel-btn {
                margin-left: auto;
                padding: 10px 20px;
                border-radius: 20px;
                font-size: 0.85rem;
                font-weight: 600;
                text-decoration: none;
                transition: all 0.3s;
            }

            .channel-btn.youtube {
                background: #FF0000;
                color: white;
            }

            .channel-btn.facebook {
                background: #1877F2;
                color: white;
            }

            .channel-btn.tiktok {
                background: #000;
                color: white;
                border: 1px solid rgba(255, 255, 255, 0.3);
            }

            .channel-btn:hover {
                transform: scale(1.05);
            }

            .videos-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 20px;
            }

            .video-card {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                overflow: hidden;
                transition: all 0.3s;
            }

            .video-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            }

            .video-embed {
                width: 100%;
                aspect-ratio: 16/9;
                background: #000;
            }

            .video-embed iframe {
                width: 100%;
                height: 100%;
                border: none;
            }

            .video-info {
                padding: 15px;
            }

            .video-info h4 {
                color: white;
                font-size: 0.95rem;
                font-weight: 600;
                margin-bottom: 5px;
                line-height: 1.4;
            }

            .video-info p {
                color: rgba(255, 255, 255, 0.5);
                font-size: 0.8rem;
            }

            .visit-channel {
                margin-top: 25px;
                text-align: center;
            }

            .visit-btn {
                display: inline-flex;
                align-items: center;
                gap: 10px;
                padding: 15px 30px;
                border-radius: 30px;
                font-size: 1rem;
                font-weight: 600;
                text-decoration: none;
                transition: all 0.3s;
            }

            .visit-btn.youtube {
                background: #FF0000;
                color: white;
            }

            .visit-btn.facebook {
                background: #1877F2;
                color: white;
            }

            .visit-btn.tiktok {
                background: #000;
                color: white;
                border: 1px solid rgba(255, 255, 255, 0.3);
            }

            .visit-btn:hover {
                transform: scale(1.05);
                box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            }

            .fb-page-embed {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                overflow: hidden;
                margin-bottom: 20px;
            }

            .fb-page-embed iframe {
                display: block;
            }

            .tiktok-embed-container {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 20px;
                margin-bottom: 20px;
                min-height: 400px;
            }

            /* Channel header info styles */
            .channel-header-info {
                display: flex;
                align-items: center;
                gap: 15px;
                padding: 20px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                margin-bottom: 20px;
            }

            .channel-header-info .channel-img {
                width: 60px;
                height: 60px;
                border-radius: 50%;
                object-fit: cover;
            }

            .channel-header-info .channel-text {
                flex: 1;
            }

            .channel-header-info .channel-text h3 {
                color: white;
                font-size: 1.1rem;
                font-weight: 600;
                margin-bottom: 4px;
            }

            .channel-header-info .channel-text p {
                color: rgba(255, 255, 255, 0.6);
                font-size: 0.85rem;
            }

            .subscribe-btn,
            .follow-btn {
                display: flex;
                align-items: center;
                gap: 8px;
                padding: 10px 20px;
                border-radius: 20px;
                font-size: 0.9rem;
                font-weight: 600;
                text-decoration: none;
                transition: all 0.3s;
            }

            .subscribe-btn {
                background: #FF0000;
                color: white;
            }

            .follow-btn.facebook {
                background: #1877F2;
                color: white;
            }

            .follow-btn.tiktok {
                background: #000;
                color: white;
                border: 1px solid rgba(255, 255, 255, 0.3);
            }

            .subscribe-btn:hover,
            .follow-btn:hover {
                transform: scale(1.05);
            }

            .fb-avatar,
            .tiktok-avatar {
                width: 60px;
                height: 60px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: hidden;
            }

            .fb-avatar {
                background: #1877F2;
            }

            .tiktok-avatar {
                background: #000;
                border: 1px solid rgba(255, 255, 255, 0.2);
            }

            .fb-avatar img,
            .tiktok-avatar img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            /* Full embed containers */
            .youtube-full-embed,
            .facebook-full-embed,
            .tiktok-full-embed {
                background: rgba(0, 0, 0, 0.3);
                border-radius: 12px;
                overflow: hidden;
                margin-bottom: 20px;
            }

            .youtube-full-embed iframe,
            .facebook-full-embed iframe,
            .tiktok-full-embed iframe {
                display: block;
                width: 100%;
                min-height: 500px;
            }

            /* Video grid for YouTube */
            .yt-videos-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 20px;
                margin-bottom: 20px;
            }

            .yt-video-item {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                overflow: hidden;
            }

            .yt-video-item iframe {
                width: 100%;
                aspect-ratio: 16/9;
                border: none;
            }

            .yt-video-item .video-title {
                padding: 12px;
                color: white;
                font-size: 0.9rem;
                font-weight: 500;
            }
        }

        @media (min-width: 1200px) {
            .mobile-app-wrapper {
                width: 400px;
                min-width: 400px;
            }
        }

        .demo-screen {
            width: 100%;
            height: 100%;
            background: #1a1a1a;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        #tunerTab {
            background: #1a1a1a;
            background-image: repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.03) 0px, rgba(255, 255, 255, 0.03) 1px, transparent 1px, transparent 20px);
            overflow: hidden;
        }

        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            padding-top: 20px;
        }

        .scale-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .scale-selector:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .scale-icon {
            color: #4CAF50;
            font-size: 1rem;
        }

        .scale-info {
            display: flex;
            flex-direction: column;
        }

        .scale-name {
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .scale-strings {
            color: #4CAF50;
            font-size: 0.65rem;
        }

        .auto-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .auto-toggle span {
            color: white;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .toggle-switch {
            width: 45px;
            height: 24px;
            background: #333;
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }

        .toggle-switch.active {
            background: #4CAF50;
        }

        .toggle-knob {
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }

        .toggle-switch.active .toggle-knob {
            transform: translateX(21px);
        }

        .tuner-display {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 10px 10px 0;
            overflow: hidden;
        }

        .pitch-indicator {
            width: 58px;
            height: 58px;
            min-width: 58px;
            min-height: 58px;
            aspect-ratio: 1 / 1;
            border: 3px solid rgba(255, 255, 255, 0.25);
            border-radius: 50%;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: left 0.08s cubic-bezier(0.25, 0.1, 0.25, 1), border-color 0.3s ease, box-shadow 0.3s ease;
            flex-shrink: 0;
            z-index: 10;
        }

        .pitch-indicator.in-tune {
            border-color: #22C55E;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
        }

        .pitch-indicator.out-tune {
            border-color: #EF4444;
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.4);
        }

        .hz-diff {
            font-size: 14px;
            font-weight: 700;
            color: #EF4444;
        }

        .tick-mark {
            font-size: 22px;
            font-weight: 700;
            color: #22C55E;
        }

        .pitch-indicator-content {
            font-size: 15px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.3);
        }

        .pitch-indicator-content.in-tune {
            color: #22C55E;
        }

        .pitch-indicator-content.out-tune {
            color: #EF4444;
        }

        .waveform-container {
            width: 100%;
            height: 300px;
            position: relative;
            margin-top: 5px;
            margin-bottom: 0;
            overflow: visible;
            padding-top: 40px;
        }

        .waveform-line {
            position: absolute;
            width: 3px;
            border-radius: 2px;
            transition: all 0.1s ease;
        }

        .target-info {
            text-align: center;
            margin-top: 5px;
        }

        .target-note {
            font-size: 18px;
            font-weight: 700;
            color: white;
        }

        .target-note.in-tune {
            color: #22C55E;
        }

        .target-hz {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
        }

        .play-text {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
            margin-bottom: 5px;
            margin-top: auto;
        }

        .tuner-main-area {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            gap: 0;
            width: 100%;
            margin-top: 0;
            margin-bottom: 15px;
        }

        .string-buttons-left,
        .string-buttons-right {
            display: flex;
            flex-direction: column;
            gap: 55px;
            padding-top: 25px;
            z-index: 10;
        }

        .string-buttons-left {
            margin-right: 5px;
        }

        .string-buttons-right {
            margin-left: 5px;
        }

        .string-btn {
            width: 42px;
            height: 42px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.25);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .string-buttons-left .string-btn:first-child {
            transform: translateX(0px) translateY(8px);
        }

        .string-buttons-left .string-btn:last-child {
            transform: translateX(0px) translateY(-8px);
        }

        .string-buttons-right .string-btn:first-child {
            transform: translateX(0px) translateY(8px);
        }

        .string-buttons-right .string-btn:last-child {
            transform: translateX(0px) translateY(-8px);
        }

        .string-btn:hover,
        .string-btn.active {
            background: #22C55E;
            border-color: #22C55E;
            box-shadow: 0 0 25px rgba(34, 197, 94, 0.6);
        }

        .string-btn.auto-detected {
            background: rgba(34, 197, 94, 0.3);
            border-color: rgba(34, 197, 94, 0.6);
            animation: pulseGlow 1.5s ease-in-out infinite;
        }

        @keyframes pulseGlow {

            0%,
            100% {
                box-shadow: 0 0 15px rgba(34, 197, 94, 0.4);
            }

            50% {
                box-shadow: 0 0 25px rgba(34, 197, 94, 0.7);
            }
        }

        .ukulele-container {
            width: 200px;
            height: 280px;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            overflow: hidden;
            margin: 0;
        }

        .ukulele-container img {
            width: 180%;
            height: auto;
            max-height: 550px;
            object-fit: cover;
            object-position: top center;
            filter: drop-shadow(0 8px 20px rgba(0, 0, 0, 0.4));
            margin-top: 0;
            transform: scale(1.6);
            transform-origin: top center;
        }

        .app-tab-bar {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 15px 10px;
            background: rgba(0, 0, 0, 0.8);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tab-item {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s;
        }

        .tab-item.active {
            background: #4CAF50;
            color: white;
        }

        .tab-item:hover {
            color: white;
            background: rgba(76, 175, 80, 0.2);
        }

        .tab-content {
            display: none;
            flex-direction: column;
            height: calc(100% - 80px);
            overflow-y: auto;
        }

        .tab-content.active {
            display: flex;
        }

        .screen-header {
            padding: 20px 15px 15px;
        }

        .screen-header h3 {
            color: white;
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .screen-header p {
            color: #4CAF50;
            font-size: 0.9rem;
        }

        .course-list,
        .product-grid {
            padding: 0 15px;
            flex: 1;
            overflow-y: auto;
        }

        .course-item {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s;
        }

        .course-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.02);
        }

        .course-thumb-img {
            width: 85px;
            height: 85px;
            border-radius: 12px;
            overflow: hidden;
        }

        .course-thumb-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .course-details {
            flex: 1;
        }

        .course-title {
            color: white;
            font-size: 1.15rem;
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
        }

        .course-info {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .product-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-decoration: none;
            transition: all 0.3s;
        }

        .product-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: scale(1.05);
        }

        .product-img-container {
            width: 90px;
            height: 90px;
            border-radius: 12px;
            overflow: hidden;
            margin: 0 auto 12px;
        }

        .product-img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-name {
            display: block;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .product-order-btn {
            display: inline-block;
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            padding: 10px 22px;
            border-radius: 18px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .profile-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 50px 20px 20px;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.3), rgba(76, 175, 80, 0.1));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin-bottom: 18px;
        }

        .profile-name {
            color: white;
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 6px;
        }

        .profile-email {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.95rem;
            margin-bottom: 25px;
        }

        .profile-stats {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 14px;
            padding: 18px;
            margin-bottom: 20px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 14px;
            color: rgba(255, 255, 255, 0.85);
            font-size: 1rem;
            margin-bottom: 14px;
        }

        .stat-item:last-child {
            margin-bottom: 0;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            background: rgba(76, 175, 80, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4CAF50;
            font-size: 1.1rem;
        }

        .social-card {
            width: 100%;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%);
            border: 1px solid rgba(76, 175, 80, 0.2);
            border-radius: 14px;
            padding: 16px 20px;
            margin-top: 10px;
        }

        .social-card-title {
            display: block;
            color: rgba(255, 255, 255, 0.95);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 14px;
            text-align: center;
        }

        .social-buttons {
            display: flex;
            justify-content: center;
            gap: 18px;
        }

        .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }

        .social-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .social-btn.fb {
            background: #1877F2;
        }

        .social-btn.yt {
            background: #FF0000;
        }

        .social-btn.tt {
            background: #000;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .social-btn svg {
            width: 24px;
            height: 24px;
            fill: white;
        }

        .scale-header {
            padding: 15px;
            padding-top: 20px;
        }

        .scale-back-btn {
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 0;
        }

        .scale-back-btn .back-arrow {
            width: 20px;
            height: 20px;
            stroke: white;
            stroke-width: 2.5;
            fill: none;
        }

        .scale-back-btn:hover .back-arrow {
            stroke: #22C55E;
        }

        .scale-tabs {
            display: flex;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            margin: 0 15px 12px;
        }

        .scale-tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
        }

        .scale-tab:hover {
            color: rgba(255, 255, 255, 0.8);
        }

        .scale-tab.active {
            color: white;
        }

        .scale-tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: #22C55E;
        }

        .scale-tab-content {
            display: none;
            padding: 0 15px;
            padding-bottom: 100px;
            flex: 1;
            overflow-y: auto;
            scrollbar-width: none;
        }

        .scale-tab-content::-webkit-scrollbar {
            display: none;
        }

        .scale-tab-content.active {
            display: block;
        }

        .scale-item {
            background: #2A2A2A;
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .scale-item:hover {
            background: #333;
        }

        .scale-item.selected {
            border-color: #22C55E;
            background: rgba(34, 197, 94, 0.1);
        }

        .scale-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 4px;
        }

        .scale-item-left {
            flex: 1;
        }

        .scale-item-name {
            color: white;
            font-size: 1rem;
            font-weight: 600;
            display: block;
            margin-bottom: 4px;
        }

        .scale-item.selected .scale-item-name {
            color: #22C55E;
        }

        .scale-item-desc {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.875rem;
            margin-bottom: 8px;
        }

        .scale-item-notes {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .scale-note-tag {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .scale-item-actions {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            gap: 8px;
            flex-shrink: 0;
        }

        .scale-action-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .scale-selected-icon {
            color: #22C55E;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scale-favorite-btn {
            color: rgba(255, 255, 255, 0.4);
            font-size: 1.3rem;
            cursor: pointer;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .scale-favorite-btn:hover {
            transform: scale(1.2);
        }

        .scale-favorite-btn.favorited {
            color: #EF4444;
        }

        .scale-drag-handle {
            display: flex;
            flex-direction: column;
            gap: 3px;
            cursor: grab;
            padding: 6px 8px;
            margin-top: 4px;
            width: fit-content;
        }

        .scale-drag-handle span {
            width: 20px;
            height: 2px;
            background: rgba(255, 255, 255, 0.35);
            border-radius: 1px;
        }

        .scale-drag-handle:hover span {
            background: rgba(255, 255, 255, 0.6);
        }

        .scale-drag-handle:active {
            cursor: grabbing;
        }

        .scale-drag-handle:active span {
            background: #22C55E;
        }

        .scale-item.dragging {
            opacity: 1;
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.4);
            border-color: #22C55E !important;
            background: rgba(34, 197, 94, 0.15) !important;
        }

        .scale-item[draggable="true"] {
            transition: all 0.2s ease;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: #1a1a2e;
            border-radius: 20px;
            max-width: 350px;
            width: 100%;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: #FF6B35;
        }

        .modal-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .modal h3 {
            color: white;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .modal p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .modal-btn {
            display: inline-block;
            background: linear-gradient(135deg, #FF6B35, #FFD23F);
            color: white;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .modal-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.4);
        }
    </style>
</head>

<body>
    <!-- Main Container -->
    <div class="main-container">
        <!-- App Preview (Left side on desktop) -->
        <div class="app-preview-wrapper">
            <div class="demo-screen">
                <div class="tab-content active" id="tunerTab">
                    <div class="app-header">
                        <div class="scale-selector" id="scaleSelector">
                            <span class="scale-icon">‚ò∞</span>
                            <div class="scale-info">
                                <span class="scale-name" id="currentScaleName">Scale D</span>
                                <span class="scale-strings" id="currentScaleStrings">D-A-D-G</span>
                            </div>
                        </div>
                        <div class="auto-toggle">
                            <span>AUTO</span>
                            <div class="toggle-switch active" id="autoToggle">
                                <div class="toggle-knob"></div>
                            </div>
                        </div>
                    </div>
                    <div class="tuner-display">
                        <div class="waveform-container" id="waveformContainer">
                            <div class="pitch-indicator" id="pitchIndicator">
                                <span class="pitch-indicator-content" id="pitchContent">‚Äî</span>
                            </div>
                        </div>
                        <div class="play-text" id="playText">Play a string...</div>
                        <div class="tuner-main-area">
                            <div class="string-buttons-left">
                                <div class="string-btn" id="str1">A</div>
                                <div class="string-btn" id="str2">D</div>
                            </div>
                            <div class="ukulele-container">
                                <img src="ukulele.svg" alt="Ukulele">
                            </div>
                            <div class="string-buttons-right">
                                <div class="string-btn" id="str3">D</div>
                                <div class="string-btn" id="str4">G</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="scaleTab">
                    <div class="scale-header">
                        <div class="scale-back-btn" id="scaleBackBtn">
                            <svg class="back-arrow" viewBox="0 0 24 24">
                                <path d="M19 12H5M12 19l-7-7 7-7" />
                            </svg>
                            Select Tuning
                        </div>
                    </div>
                    <div class="scale-tabs">
                        <div class="scale-tab active" data-tab="fav">Favorites</div>
                        <div class="scale-tab" data-tab="all">All Scales</div>
                    </div>
                    <div class="scale-tab-content active" id="favContent"></div>
                    <div class="scale-tab-content" id="allContent"></div>
                </div>

                <div class="tab-content" id="coursesTab">
                    <div class="screen-header">
                        <h3>‡¶á‡¶â‡¶ï‡ßÅ‡¶≤‡ßá‡¶≤‡ßá ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</h3>
                    </div>
                    <div class="course-list">
                        <div class="course-item" onclick="showCourseModal()">
                            <div class="course-thumb-img">
                                <img src="https://images.unsplash.com/photo-1507838153414-b4b713384a76?w=80&h=80&fit=crop&q=80"
                                    alt="‡¶¨‡¶ø‡¶ó‡¶ø‡¶®‡¶æ‡¶∞">
                            </div>
                            <div class="course-details">
                                <span class="course-title">‡¶¨‡¶ø‡¶ó‡¶ø‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</span>
                                <span class="course-info">‡ß®‡ß¶ ‡¶≤‡ßá‡¶∏‡¶® ‚Ä¢ ‡ß© ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</span>
                            </div>
                        </div>
                        <div class="course-item" onclick="showCourseModal()">
                            <div class="course-thumb-img">
                                <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=80&h=80&fit=crop&q=80"
                                    alt="‡¶ï‡¶∞‡ßç‡¶° ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡¶ø">
                            </div>
                            <div class="course-details">
                                <span class="course-title">‡¶ï‡¶∞‡ßç‡¶° ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡¶ø</span>
                                <span class="course-info">‡ß©‡ß´ ‡¶≤‡ßá‡¶∏‡¶® ‚Ä¢ ‡ß´ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</span>
                            </div>
                        </div>
                        <div class="course-item" onclick="showCourseModal()">
                            <div class="course-thumb-img">
                                <img src="https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=80&h=80&fit=crop&q=80"
                                    alt="‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶≠‡¶æ‡¶®‡ßç‡¶∏‡¶°">
                            </div>
                            <div class="course-details">
                                <span class="course-title">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶≠‡¶æ‡¶®‡ßç‡¶∏‡¶°</span>
                                <span class="course-info">‡ß™‡ß¶ ‡¶≤‡ßá‡¶∏‡¶® ‚Ä¢ ‡ß¨ ‡¶ò‡¶®‡ßç‡¶ü‡¶æ</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="shopTab">
                    <div class="screen-header">
                        <h3>‡¶á‡¶â‡¶ï‡ßÅ‡¶≤‡ßá‡¶≤‡ßá ‡¶∂‡¶™</h3>
                        <p>‡¶∏‡ßá‡¶∞‡¶æ ‡¶ï‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø‡¶∞ ‡¶á‡¶â‡¶ï‡ßÅ‡¶≤‡ßá‡¶≤‡ßá ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®</p>
                    </div>
                    <div class="product-grid">
                        <a href="https://wa.me/8801724281200?text=‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã!%20‡¶Ü‡¶Æ‡¶ø%20‡¶∏‡ßã‡¶™‡ßç‡¶∞‡¶æ‡¶®‡ßã%20‡¶á‡¶â‡¶ï‡ßÅ‡¶≤‡ßá‡¶≤‡ßá%20‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞%20‡¶ï‡¶∞‡¶§‡ßá%20‡¶ö‡¶æ‡¶á‡•§"
                            target="_blank" class="product-item">
                            <div class="product-img-container">
                                <img src="https://images.unsplash.com/photo-1516924962500-2b4b3b99ea02?w=80&h=80&fit=crop&q=80"
                                    alt="‡¶∏‡ßã‡¶™‡ßç‡¶∞‡¶æ‡¶®‡ßã">
                            </div>
                            <span class="product-name">‡¶∏‡ßã‡¶™‡ßç‡¶∞‡¶æ‡¶®‡ßã</span>
                            <span class="product-order-btn">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</span>
                        </a>
                        <a href="https://wa.me/8801724281200?text=‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã!%20‡¶Ü‡¶Æ‡¶ø%20‡¶ï‡¶®‡¶∏‡¶æ‡¶∞‡ßç‡¶ü%20‡¶á‡¶â‡¶ï‡ßÅ‡¶≤‡ßá‡¶≤‡ßá%20‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞%20‡¶ï‡¶∞‡¶§‡ßá%20‡¶ö‡¶æ‡¶á‡•§"
                            target="_blank" class="product-item">
                            <div class="product-img-container">
                                <img src="https://images.unsplash.com/photo-1550985616-10810253b84d?w=80&h=80&fit=crop&q=80"
                                    alt="‡¶ï‡¶®‡¶∏‡¶æ‡¶∞‡ßç‡¶ü">
                            </div>
                            <span class="product-name">‡¶ï‡¶®‡¶∏‡¶æ‡¶∞‡ßç‡¶ü</span>
                            <span class="product-order-btn">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</span>
                        </a>
                        <a href="https://wa.me/8801724281200?text=‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã!%20‡¶Ü‡¶Æ‡¶ø%20‡¶ü‡ßá‡¶®‡¶∞%20‡¶á‡¶â‡¶ï‡ßÅ‡¶≤‡ßá‡¶≤‡ßá%20‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞%20‡¶ï‡¶∞‡¶§‡ßá%20‡¶ö‡¶æ‡¶á‡•§"
                            target="_blank" class="product-item">
                            <div class="product-img-container">
                                <img src="https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=80&h=80&fit=crop&q=80"
                                    alt="‡¶ü‡ßá‡¶®‡¶∞">
                            </div>
                            <span class="product-name">‡¶ü‡ßá‡¶®‡¶∞</span>
                            <span class="product-order-btn">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</span>
                        </a>
                        <a href="https://wa.me/8801724281200?text=‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã!%20‡¶Ü‡¶Æ‡¶ø%20‡¶¨‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶ü‡ßã‡¶®%20‡¶á‡¶â‡¶ï‡ßÅ‡¶≤‡ßá‡¶≤‡ßá%20‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞%20‡¶ï‡¶∞‡¶§‡ßá%20‡¶ö‡¶æ‡¶á‡•§"
                            target="_blank" class="product-item">
                            <div class="product-img-container">
                                <img src="https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=80&h=80&fit=crop&q=80"
                                    alt="‡¶¨‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶ü‡ßã‡¶®">
                            </div>
                            <span class="product-name">‡¶¨‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶ü‡ßã‡¶®</span>
                            <span class="product-order-btn">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞</span>
                        </a>
                    </div>
                </div>

                <div class="tab-content" id="profileTab">
                    <div class="profile-content">
                        <div class="profile-avatar">üë§</div>
                        <span class="profile-name">‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</span>
                        <span class="profile-email">user@email.com</span>
                        <div class="profile-stats">
                            <div class="stat-item">
                                <span class="stat-icon">‚úì</span>
                                <span>Auto Tuning</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-icon">üìö</span>
                                <span>‡ß®‡¶ü‡¶ø ‡¶ï‡ßã‡¶∞‡ßç‡¶∏</span>
                            </div>
                        </div>
                        <div class="social-card">
                            <span class="social-card-title">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßã‡¶®</span>
                            <div class="social-buttons">
                                <a href="https://www.facebook.com/share/1FazRLXBGR/" target="_blank"
                                    class="social-btn fb">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" />
                                    </svg>
                                </a>
                                <a href="https://youtube.com/@sobujserkerukuleledotarastyle" target="_blank"
                                    class="social-btn yt">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z" />
                                    </svg>
                                </a>
                                <a href="https://www.tiktok.com/@sobuj.serker.ukul" target="_blank"
                                    class="social-btn tt">
                                    <svg viewBox="0 0 24 24">
                                        <path
                                            d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="app-tab-bar">
                    <div class="tab-item active" data-tab="tunerTab">
                        <!-- Tune icon (like Flutter Icons.tune_rounded) -->
                        <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor">
                            <path
                                d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z" />
                        </svg>
                    </div>
                    <div class="tab-item" data-tab="coursesTab">
                        <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor">
                            <polygon points="5,3 19,12 5,21" />
                        </svg>
                    </div>
                    <div class="tab-item" data-tab="shopTab">
                        <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M6 6h15l-1.5 9h-12z" />
                            <circle cx="9" cy="20" r="1" />
                            <circle cx="18" cy="20" r="1" />
                        </svg>
                    </div>
                    <div class="tab-item" data-tab="profileTab">
                        <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="8" r="4" />
                            <path d="M4 20c0-4 4-6 8-6s8 2 8 6" />
                        </svg>
                    </div>
                </div>
            </div>
        </div> <!-- End app-preview-wrapper -->

        <!-- Social Media Section (Right side on desktop) -->
        <div class="social-media-section">
            <div class="social-tabs">
                <div class="social-tab youtube active" data-social="youtube">
                    <svg viewBox="0 0 24 24" fill="#FF0000">
                        <path
                            d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z" />
                    </svg>
                    YouTube
                </div>
                <div class="social-tab facebook" data-social="facebook">
                    <svg viewBox="0 0 24 24" fill="#1877F2">
                        <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" />
                    </svg>
                    Facebook
                </div>
                <div class="social-tab tiktok" data-social="tiktok">
                    <svg viewBox="0 0 24 24" fill="white">
                        <path
                            d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z" />
                    </svg>
                    TikTok
                </div>
            </div>
            <div class="social-content">
                <!-- YouTube Panel - Real Channel Videos -->
                <div class="social-panel active" id="youtubePanel">
                    <!-- Channel Header - Like YouTube -->
                    <div style="background: #0f0f0f; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <!-- Profile Image -->
                            <img src="yt_profile.jpg" alt="sobuj serker"
                                style="width: 140px; height: 140px; border-radius: 50%; object-fit: cover;">
                            <!-- Channel Info -->
                            <div style="flex: 1;">
                                <h3 style="color: white; font-size: 1.8rem; font-weight: 700; margin-bottom: 4px;">sobuj
                                    serker ukulele dotara style</h3>
                                <p style="color: rgba(255,255,255,0.6); font-size: 0.85rem; margin-bottom: 8px;">
                                    @sobujserkerukuleledotarastyle</p>
                                <p style="color: rgba(255,255,255,0.5); font-size: 0.8rem;">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡¶ü‡¶ø
                                    ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶•‡ßá‡¶ï‡ßá ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶π‡¶Ø‡¶º ‡¶ó‡ßá‡¶õ‡ßá ‡¶§‡¶æ‡¶á ‡¶è‡¶á‡¶ü‡¶æ ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü... <a
                                        href="https://youtube.com/@sobujserkerukuleledotarastyle/about" target="_blank"
                                        style="color: rgba(255,255,255,0.7);">...more</a></p>
                                <!-- Buttons -->
                                <div style="display: flex; gap: 10px; margin-top: 12px;">
                                    <a href="https://youtube.com/@sobujserkerukuleledotarastyle?sub_confirmation=1"
                                        target="_blank"
                                        style="background: white; color: #0f0f0f; padding: 8px 16px; border-radius: 20px; font-weight: 600; font-size: 0.85rem; text-decoration: none;">Subscribe</a>
                                    <a href="https://youtube.com/@sobujserkerukuleledotarastyle/community"
                                        target="_blank"
                                        style="background: rgba(255,255,255,0.1); color: white; padding: 8px 16px; border-radius: 20px; font-weight: 500; font-size: 0.85rem; text-decoration: none; border: 1px solid rgba(255,255,255,0.2);">Visit
                                        community</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Videos List - One per row -->
                    <div style="display: flex; flex-direction: column; gap: 16px; margin-bottom: 20px;">
                        <!-- Video 1 -->
                        <div style="background: rgba(255,255,255,0.03); border-radius: 12px; overflow: hidden;">
                            <iframe width="100%" height="250"
                                src="https://www.youtube.com/embed/XeUQhMazkwI?si=RazM3cvEg9IGJwPX"
                                title="YouTube video player" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen
                                style="display:block;"></iframe>
                        </div>
                        <!-- Video 2 -->
                        <div style="background: rgba(255,255,255,0.03); border-radius: 12px; overflow: hidden;">
                            <iframe width="100%" height="250"
                                src="https://www.youtube.com/embed/km3UzUG94Kk?si=XoiVIFRF72XOebh_"
                                title="YouTube video player" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen
                                style="display:block;"></iframe>
                        </div>
                        <!-- Video 3 -->
                        <div style="background: rgba(255,255,255,0.03); border-radius: 12px; overflow: hidden;">
                            <iframe width="100%" height="250"
                                src="https://www.youtube.com/embed/Nd9ltnf27kU?si=W0LKia2f4aXGk-WT"
                                title="YouTube video player" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen
                                style="display:block;"></iframe>
                        </div>
                        <!-- Video 4 -->
                        <div style="background: rgba(255,255,255,0.03); border-radius: 12px; overflow: hidden;">
                            <iframe width="100%" height="250"
                                src="https://www.youtube.com/embed/3sMu5ZiRUUc?si=RyzKJyo0GJfRWWMP"
                                title="YouTube video player" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen
                                style="display:block;"></iframe>
                        </div>
                        <!-- Video 5 -->
                        <div style="background: rgba(255,255,255,0.03); border-radius: 12px; overflow: hidden;">
                            <iframe width="100%" height="250"
                                src="https://www.youtube.com/embed/qWwtPHK2fVw?si=cZ3Te7fBgtocK-4c"
                                title="YouTube video player" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen
                                style="display:block;"></iframe>
                        </div>
                        <!-- Video 6 -->
                        <div style="background: rgba(255,255,255,0.03); border-radius: 12px; overflow: hidden;">
                            <iframe width="100%" height="250"
                                src="https://www.youtube.com/embed/gxRe5UR0XoU?si=kFpemtDF0Uqvm7Ag"
                                title="YouTube video player" frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen
                                style="display:block;"></iframe>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <a href="https://youtube.com/@sobujserkerukuleledotarastyle?si=3ilwKGNP3Zk-f1k5" target="_blank"
                            style="display: inline-flex; align-items: center; gap: 10px; background: #FF0000; color: white; padding: 15px 30px; border-radius: 30px; font-weight: 600; text-decoration: none;">
                            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                                <path
                                    d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z" />
                            </svg>
                            ‡¶∏‡¶¨ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶Ø‡¶æ‡¶®
                        </a>
                    </div>
                </div>

                <!-- Facebook Panel -->
                <div class="social-panel" id="facebookPanel">
                    <!-- Cover + Profile Container (Like Facebook) -->
                    <div style="position: relative;">
                        <!-- Cover Image -->
                        <div style="border-radius: 12px 12px 0 0; overflow: hidden;">
                            <img src="fb_tham.jpg" alt="Cover" style="width: 100%; height: 150px; object-fit: cover;">
                        </div>
                        <!-- Profile Image - Overlapping on cover -->
                        <div style="position: absolute; bottom: -80px; left: 20px;">
                            <img src="fb_profile.jpg" alt="Ukulele Dotara style"
                                style="width: 150px; height: 150px; border-radius: 50%; object-fit: cover; object-position: top center; border: 1px solid; background: #242526;">
                        </div>
                        <!-- Name and followers - Right side of profile image -->
                        <div style="position: absolute; bottom: -70px; left: 185px;">
                            <h3 style="color: white; font-size: 1.4rem; font-weight: 700; margin-bottom: 4px;">Ukulele
                                Dotara style-Sobuj Serker</h3>
                            <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">4.9K followers ‚Ä¢ 2 following</p>
                        </div>
                    </div>

                    <!-- Page Header - Like Facebook -->
                    <div
                        style="background: #242526; border-radius: 0 0 12px 12px; padding: 15px; padding-top: 90px; margin-bottom: 20px; margin-top: 0;">
                        <!-- Divider Line - Facebook Style -->
                        <div style="width: 100%; height: 1px; background: rgba(255,255,255,0.15); margin-bottom: 15px;">
                        </div>
                        <!-- Tabs -->
                        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                            <a href="https://www.facebook.com/share/1FazRLXBGR/?mibextid=wwXIfr" target="_blank"
                                style="background: rgba(255,255,255,0.1); color: white; padding: 6px 14px; border-radius: 6px; font-size: 0.85rem; text-decoration: none;">Posts</a>
                            <a href="https://www.facebook.com/share/1FazRLXBGR/?mibextid=wwXIfr" target="_blank"
                                style="background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.7); padding: 6px 14px; border-radius: 6px; font-size: 0.85rem; text-decoration: none;">About</a>
                            <a href="https://www.facebook.com/share/1FazRLXBGR/?mibextid=wwXIfr" target="_blank"
                                style="background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.7); padding: 6px 14px; border-radius: 6px; font-size: 0.85rem; text-decoration: none;">Reels</a>
                            <a href="https://www.facebook.com/share/1FazRLXBGR/?mibextid=wwXIfr" target="_blank"
                                style="background: rgba(255,255,255,0.1); color: rgba(255,255,255,0.7); padding: 6px 14px; border-radius: 6px; font-size: 0.85rem; text-decoration: none;">Photos</a>
                        </div>
                        <!-- Category Info - Facebook Intro Style -->
                        <div
                            style="margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                            <p
                                style="color: rgba(255,255,255,0.9); font-size: 0.95rem; font-weight: 600; margin-bottom: 12px;">
                                Categories</p>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="#1877F2"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M9 18V5l12-2v13"></path>
                                    <circle cx="6" cy="18" r="3"></circle>
                                    <circle cx="18" cy="16" r="3"></circle>
                                </svg>
                                <span style="color: #1877F2; font-size: 0.95rem; font-weight: 500;">Musician/band</span>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <a href="https://www.facebook.com/share/1FazRLXBGR/?mibextid=wwXIfr" target="_blank"
                            style="flex: 1; background: #1877F2; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600; text-decoration: none; text-align: center; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <svg viewBox="0 0 24 24" fill="white" width="18" height="18">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                            </svg>
                            Follow
                        </a>
                        <a href="https://www.facebook.com/share/1FazRLXBGR/?mibextid=wwXIfr" target="_blank"
                            style="flex: 1; background: rgba(255,255,255,0.1); color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600; text-decoration: none; text-align: center; display: flex; align-items: center; justify-content: center; gap: 8px;">
                            <svg viewBox="0 0 24 24" fill="white" width="18" height="18">
                                <path
                                    d="M12 2C6.36 2 2 6.13 2 11.7c0 2.91 1.19 5.44 3.14 7.17.16.13.26.35.27.57l.05 1.78c.04.57.61.94 1.13.71l1.98-.87c.17-.08.36-.1.55-.06.91.23 1.88.35 2.88.35 5.64 0 10-4.13 10-9.7C22 6.13 17.64 2 12 2z" />
                            </svg>
                            Message
                        </a>
                    </div>

                    <div style="text-align: center;">
                        <a href="https://www.facebook.com/share/1FazRLXBGR/?mibextid=wwXIfr" target="_blank"
                            style="display: inline-flex; align-items: center; gap: 10px; background: #1877F2; color: white; padding: 15px 30px; border-radius: 30px; font-weight: 600; text-decoration: none;">
                            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" />
                            </svg>
                            Facebook ‡¶™‡ßá‡¶ú‡ßá ‡¶Ø‡¶æ‡¶®
                        </a>
                    </div>
                </div>

                <!-- TikTok Panel -->
                <div class="social-panel" id="tiktokPanel">
                    <!-- TikTok Profile Card -->
                    <div style="background: #000; border-radius: 12px; padding: 25px; margin-bottom: 20px;">
                        <!-- Profile Section -->
                        <div style="display: flex; align-items: flex-start; gap: 20px; margin-bottom: 20px;">
                            <!-- Profile Image -->
                            <div
                                style="width: 145px; height: 145px; border-radius: 50%; overflow: hidden; flex-shrink: 0; background: #22C55E;">
                                <img src="tk_profile.jpg" alt="Profile"
                                    style="width: 100%; height: 100%; object-fit: cover;"
                                    onerror="this.style.display='none'; this.parentElement.innerHTML='<span style=\'font-size: 3rem; color: white; display: flex; align-items: center; justify-content: center; height: 100%;\'>S</span>';">
                            </div>
                            <!-- Profile Info -->
                            <div style="flex: 1;">
                                <!-- Username and Name -->
                                <div style="margin-bottom: 12px;">
                                    <span
                                        style="color: white; font-size: 1.5rem; font-weight: 700;">sobuj.serker.ukul</span>
                                    <span style="color: white; font-size: 1.1rem; margin-left: 10px;">sobuj serker
                                        ukulele dotara</span>
                                </div>
                                <!-- Action Buttons - TikTok Style -->
                                <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 15px;">
                                    <a href="https://www.tiktok.com/@sobuj.serker.ukul" target="_blank"
                                        style="background: #FE2C55; color: white; padding: 10px 32px; border-radius: 4px; font-weight: 600; text-decoration: none; font-size: 0.95rem;">Follow</a>
                                    <a href="https://www.tiktok.com/@sobuj.serker.ukul" target="_blank"
                                        style="background: #2f2f2f; color: white; padding: 10px 20px; border-radius: 4px; font-weight: 600; text-decoration: none; font-size: 0.95rem;">Message</a>
                                    <!-- Person with Plus Icon - TikTok style -->
                                    <a href="https://www.tiktok.com/@sobuj.serker.ukul" target="_blank"
                                        style="background: #2f2f2f; color: white; width: 40px; height: 40px; border-radius: 4px; text-decoration: none; display: flex; align-items: center; justify-content: center;">
                                        <svg viewBox="0 0 48 48" fill="none" stroke="white" stroke-width="3" width="22"
                                            height="22">
                                            <path d="M30 12c0 5-4 9-9 9s-9-4-9-9 4-9 9-9 9 4 9 9z" />
                                            <path d="M5 40c0-8 7-14 16-14" />
                                            <path d="M36 28v12M30 34h12" />
                                        </svg>
                                    </a>
                                    <!-- Share Arrow Icon - TikTok style -->
                                    <button onclick="openTikTokSharePopup()"
                                        style="background: #2f2f2f; color: white; width: 40px; height: 40px; border-radius: 4px; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" width="20"
                                            height="20">
                                            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" />
                                        </svg>
                                    </button>
                                    <!-- Three Dots - Horizontal -->
                                    <button
                                        style="background: #2f2f2f; color: white; width: 40px; height: 40px; border-radius: 4px; border: none; cursor: default; display: flex; align-items: center; justify-content: center;">
                                        <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                                            <circle cx="5" cy="12" r="2" />
                                            <circle cx="12" cy="12" r="2" />
                                            <circle cx="19" cy="12" r="2" />
                                        </svg>
                                    </button>
                                </div>
                                <!-- Stats -->

                                <!-- Bio -->
                                <p style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">No bio yet.</p>
                            </div>
                        </div>

                        <!-- Tabs - TikTok Style -->
                        <div style="display: flex; position: relative;">
                            <button onclick="switchTikTokTab('videos')" id="tiktokVideosTab"
                                style="flex: 1; padding: 15px 20px; color: white; font-weight: 600; font-size: 1rem; background: transparent; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <!-- Grid/Menu Icon for Videos -->
                                <svg viewBox="0 0 24 24" fill="white" width="18" height="18">
                                    <rect x="3" y="3" width="5" height="7" rx="1" />
                                    <rect x="10" y="3" width="5" height="7" rx="1" />
                                    <rect x="17" y="3" width="4" height="7" rx="1" />
                                    <rect x="3" y="12" width="5" height="7" rx="1" />
                                    <rect x="10" y="12" width="5" height="7" rx="1" />
                                    <rect x="17" y="12" width="4" height="7" rx="1" />
                                </svg>
                                Videos
                            </button>
                            <button onclick="switchTikTokTab('liked')" id="tiktokLikedTab"
                                style="flex: 1; padding: 15px 20px; color: rgba(255,255,255,0.5); font-weight: 600; font-size: 1rem; background: transparent; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <!-- Heart with ribbon Icon for Liked -->
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18"
                                    height="18">
                                    <path
                                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                                    <path d="M8 14l2-2 2 2 4-4" />
                                </svg>
                                Liked
                            </button>
                            <!-- Tab Indicator -->
                            <div id="tiktokTabIndicator"
                                style="position: absolute; bottom: 0; left: 0; width: 50%; height: 2px; background: white; transition: left 0.3s ease;">
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center;">
                        <a href="https://www.tiktok.com/@sobuj.serker.ukul" target="_blank"
                            style="display: inline-flex; align-items: center; gap: 10px; background: #000; color: white; padding: 15px 30px; border-radius: 30px; font-weight: 600; text-decoration: none; border: 1px solid rgba(255,255,255,0.3);">
                            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                                <path
                                    d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z" />
                            </svg>
                            TikTok ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶Ø‡¶æ‡¶®
                        </a>
                    </div>
                </div>

                <!-- TikTok Share Popup -->
                <div id="tiktokSharePopup"
                    style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 9999; align-items: center; justify-content: center;">
                    <div
                        style="background: #1a1a1a; border-radius: 12px; padding: 25px; max-width: 400px; width: 90%; text-align: center; position: relative;">
                        <!-- Close Button -->
                        <button onclick="closeTikTokSharePopup()"
                            style="position: absolute; top: 12px; right: 12px; background: transparent; border: none; cursor: pointer; padding: 5px;">
                            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                                <path
                                    d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                            </svg>
                        </button>
                        <!-- TikTok Logo -->
                        <svg viewBox="0 0 24 24" fill="white" width="40" height="40" style="margin-bottom: 10px;">
                            <path
                                d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z" />
                        </svg>
                        <h3 style="color: white; font-size: 1.2rem; margin-bottom: 15px;">Share TikTok Profile</h3>
                        <div
                            style="display: flex; align-items: center; gap: 10px; background: #2f2f2f; border-radius: 8px; padding: 12px;">
                            <input type="text" id="tiktokLinkInput" value="https://www.tiktok.com/@sobuj.serker.ukul"
                                readonly
                                style="flex: 1; background: transparent; border: none; color: white; font-size: 0.9rem; outline: none;">
                            <button onclick="copyTikTokLink()"
                                style="background: #FE2C55; color: white; padding: 8px 16px; border-radius: 6px; border: none; cursor: pointer; font-weight: 600;">Copy</button>
                        </div>
                        <p id="tiktokCopyMsg"
                            style="color: #22C55E; font-size: 0.85rem; margin-top: 10px; display: none;">Link copied!
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- End main-container -->

    <div class="modal-overlay" id="courseModal">
        <div class="modal">
            <button class="modal-close"
                onclick="document.getElementById('courseModal').classList.remove('active')">√ó</button>
            <div class="modal-icon">üì±</div>
            <h3>‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
            <p>‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶¨ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá sTune ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
            <a href="https://github.com/YOUR_USERNAME/sTune/releases/latest" target="_blank" class="modal-btn">‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
                ‡¶ï‡¶∞‡ßÅ‡¶® ‚Üì</a>
        </div>
    </div>

    <script>
        // ===== ALL 12 SCALES DATA (from Flutter app) =====
        const scales = [
            {
                id: 'A', name: 'Scale A (AEAD)', description: 'Scale A tuning', strings: 'A-E-A-D',
                notes: [
                    { note: 'A', octave: 3, hz: 216.0, position: 'top-left' },
                    { note: 'E', octave: 3, hz: 161.82, position: 'top-right' },
                    { note: 'A', octave: 3, hz: 216.0, position: 'bottom-left' },
                    { note: 'D', octave: 4, hz: 288.33, position: 'bottom-right' }
                ]
            },
            {
                id: 'A#', name: 'Scale A# (AFAD)', description: 'Scale A# tuning', strings: 'A#-F-A#-D#',
                notes: [
                    { note: 'A#', octave: 3, hz: 228.84, position: 'top-left' },
                    { note: 'F', octave: 3, hz: 171.44, position: 'top-right' },
                    { note: 'A#', octave: 3, hz: 228.84, position: 'bottom-left' },
                    { note: 'D#', octave: 4, hz: 305.47, position: 'bottom-right' }
                ]
            },
            {
                id: 'B', name: 'Scale B (BFBE)', description: 'Scale B tuning', strings: 'B-F#-B-E',
                notes: [
                    { note: 'B', octave: 3, hz: 242.45, position: 'top-left' },
                    { note: 'F#', octave: 3, hz: 181.63, position: 'top-right' },
                    { note: 'B', octave: 3, hz: 242.45, position: 'bottom-left' },
                    { note: 'E', octave: 4, hz: 323.63, position: 'bottom-right' }
                ]
            },
            {
                id: 'C', name: 'Scale C (CGCF)', description: 'Scale C tuning', strings: 'C-G-C-F',
                notes: [
                    { note: 'C', octave: 4, hz: 256.87, position: 'top-left' },
                    { note: 'G', octave: 3, hz: 192.43, position: 'top-right' },
                    { note: 'C', octave: 4, hz: 256.87, position: 'bottom-left' },
                    { note: 'F', octave: 4, hz: 342.88, position: 'bottom-right' }
                ]
            },
            {
                id: 'C#', name: 'Scale C# (CGCF)', description: 'Scale C# tuning', strings: 'C#-G#-C#-F#',
                notes: [
                    { note: 'C#', octave: 4, hz: 272.14, position: 'top-left' },
                    { note: 'G#', octave: 3, hz: 203.88, position: 'top-right' },
                    { note: 'C#', octave: 4, hz: 272.14, position: 'bottom-left' },
                    { note: 'F#', octave: 4, hz: 363.27, position: 'bottom-right' }
                ]
            },
            {
                id: 'D', name: 'Scale D (DADG)', description: 'Scale D tuning', strings: 'D-A-D-G',
                notes: [
                    { note: 'D', octave: 4, hz: 288.0, position: 'top-left' },
                    { note: 'A', octave: 3, hz: 216.0, position: 'top-right' },
                    { note: 'D', octave: 4, hz: 288.0, position: 'bottom-left' },
                    { note: 'G', octave: 4, hz: 385.0, position: 'bottom-right' }
                ]
            },
            {
                id: 'D#', name: 'Scale D# (DADG)', description: 'Scale D# tuning', strings: 'D#-A#-D#-G#',
                notes: [
                    { note: 'D#', octave: 4, hz: 305.4, position: 'top-left' },
                    { note: 'A#', octave: 3, hz: 228.8, position: 'top-right' },
                    { note: 'D#', octave: 4, hz: 305.4, position: 'bottom-left' },
                    { note: 'G#', octave: 4, hz: 407.7, position: 'bottom-right' }
                ]
            },
            {
                id: 'E', name: 'Scale E (EBEA)', description: 'Scale E tuning', strings: 'E-B-E-A',
                notes: [
                    { note: 'E', octave: 4, hz: 323.6, position: 'top-left' },
                    { note: 'B', octave: 3, hz: 242.4, position: 'top-right' },
                    { note: 'E', octave: 4, hz: 323.6, position: 'bottom-left' },
                    { note: 'A', octave: 4, hz: 432.0, position: 'bottom-right' }
                ]
            },
            {
                id: 'F', name: 'Scale F (FCFA)', description: 'Scale F tuning', strings: 'F-C-F-A#',
                notes: [
                    { note: 'F', octave: 4, hz: 342.88, position: 'top-left' },
                    { note: 'C', octave: 4, hz: 256.87, position: 'top-right' },
                    { note: 'F', octave: 4, hz: 342.88, position: 'bottom-left' },
                    { note: 'A#', octave: 4, hz: 457.69, position: 'bottom-right' }
                ]
            },
            {
                id: 'F#', name: 'Scale F# (FCFB)', description: 'Scale F# tuning', strings: 'F#-C#-F#-B',
                notes: [
                    { note: 'F#', octave: 4, hz: 363.27, position: 'top-left' },
                    { note: 'C#', octave: 4, hz: 272.14, position: 'top-right' },
                    { note: 'F#', octave: 4, hz: 363.27, position: 'bottom-left' },
                    { note: 'B', octave: 4, hz: 484.9, position: 'bottom-right' }
                ]
            },
            {
                id: 'G', name: 'Scale G (GDGC)', description: 'Scale G tuning', strings: 'G-D-G-C',
                notes: [
                    { note: 'G', octave: 4, hz: 384.87, position: 'top-left' },
                    { note: 'D', octave: 4, hz: 288.33, position: 'top-right' },
                    { note: 'G', octave: 4, hz: 384.87, position: 'bottom-left' },
                    { note: 'C', octave: 5, hz: 513.74, position: 'bottom-right' }
                ]
            },
            {
                id: 'G#', name: 'Scale G# (GDGC)', description: 'Scale G# tuning', strings: 'G#-D#-G#-C#',
                notes: [
                    { note: 'G#', octave: 4, hz: 407.75, position: 'top-left' },
                    { note: 'D#', octave: 4, hz: 305.47, position: 'top-right' },
                    { note: 'G#', octave: 4, hz: 407.75, position: 'bottom-left' },
                    { note: 'C#', octave: 5, hz: 544.29, position: 'bottom-right' }
                ]
            }
        ];

        let favorites = ['D', 'D#', 'C', 'C#'];
        let currentScale = 'D';
        let animationRunning = false;
        let currentStringIndex = 0;
        let currentHzOffset = 0;
        let waveformPoints = [];
        let animationInterval = null;
        let tuningPhase = 'approaching'; // 'approaching', 'detected', 'waiting'
        let phaseTimer = null;

        // Get current scale data
        function getCurrentScaleData() {
            return scales.find(s => s.id === currentScale) || scales[5]; // Default to Scale D
        }

        // Update UI with current scale
        function updateScaleUI() {
            const scale = getCurrentScaleData();
            document.getElementById('currentScaleName').textContent = scale.name.split(' ')[0] + ' ' + scale.name.split(' ')[1];
            document.getElementById('currentScaleStrings').textContent = scale.strings;

            // Update string buttons
            const buttons = ['str1', 'str2', 'str3', 'str4'];
            const positions = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];

            buttons.forEach((btnId, idx) => {
                const noteData = scale.notes.find(n => n.position === positions[idx]);
                if (noteData) {
                    document.getElementById(btnId).textContent = noteData.note;
                }
            });
        }

        // Get button ID from position
        function getButtonIdFromPosition(position) {
            const map = {
                'top-left': 'str1',
                'top-right': 'str2',
                'bottom-left': 'str3',
                'bottom-right': 'str4'
            };
            return map[position];
        }

        // Update pitch indicator display
        function updatePitchIndicator(state, hzDiff = 0) {
            const indicator = document.getElementById('pitchIndicator');
            const pitchContent = document.getElementById('pitchContent');
            const playText = document.getElementById('playText');

            // Remove all state classes
            indicator.classList.remove('in-tune', 'out-tune');

            if (state === 'idle') {
                pitchContent.innerHTML = '‚Äî';
                pitchContent.style.color = 'rgba(255,255,255,0.3)';
                playText.textContent = 'Play a string...';
                playText.style.color = 'rgba(255,255,255,0.5)';
                indicator.style.left = '50%';
            } else if (state === 'approaching') {
                indicator.classList.add('out-tune');
                const sign = hzDiff >= 0 ? '+' : '';
                pitchContent.innerHTML = `${sign}${hzDiff.toFixed(1)}`;
                // Color based on how far off
                const abs = Math.abs(hzDiff);
                if (abs <= 5) {
                    pitchContent.style.color = '#FBBF24'; // Yellow - close
                    indicator.style.borderColor = '#FBBF24';
                    indicator.style.boxShadow = '0 0 15px rgba(251, 191, 36, 0.5)';
                } else {
                    pitchContent.style.color = '#EF4444'; // Red - far
                    indicator.style.borderColor = '#EF4444';
                    indicator.style.boxShadow = '0 0 15px rgba(239, 68, 68, 0.4)';
                }
                const scale = getCurrentScaleData();
                const currentNote = scale.notes[currentStringIndex];
                playText.innerHTML = `Target: <span style="color:#22C55E">${currentNote.note}${currentNote.octave}</span> ${currentNote.hz.toFixed(0)} Hz`;
                playText.style.color = 'rgba(255,255,255,0.7)';
            } else if (state === 'detected') {
                indicator.classList.add('in-tune');
                indicator.style.left = '50%'; // Center when in tune
                indicator.style.borderColor = '#22C55E';
                indicator.style.boxShadow = '0 0 20px rgba(34, 197, 94, 0.5)';
                pitchContent.innerHTML = '‚úì';
                pitchContent.style.color = '#22C55E';
                const scale = getCurrentScaleData();
                const currentNote = scale.notes[currentStringIndex];
                playText.innerHTML = `<span style="color:#22C55E">${currentNote.note}${currentNote.octave}</span> In Tune!`;
                playText.style.color = '#22C55E';
            }
        }

        // Highlight string button
        function highlightButton(position, active) {
            const btnId = getButtonIdFromPosition(position);
            const btn = document.getElementById(btnId);
            if (btn) {
                if (active) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            }
        }

        // Clear all button highlights
        function clearAllButtonHighlights() {
            ['str1', 'str2', 'str3', 'str4'].forEach(id => {
                document.getElementById(id).classList.remove('active');
            });
        }

        // Draw waveform trail with smooth curves - line emerges from below the pitch indicator
        function drawWaveform() {
            const canvas = document.getElementById('waveformCanvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');

            // Set canvas size to match container
            const container = document.getElementById('waveformContainer');
            canvas.width = container.offsetWidth || 300;
            canvas.height = container.offsetHeight || 225;

            const width = canvas.width;
            const height = canvas.height;

            ctx.clearRect(0, 0, width, height);

            // Center X - same as pitch indicator center
            const centerX = width / 2;
            const maxOffset = width * 0.35;

            // Draw center line
            ctx.beginPath();
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, height);
            ctx.strokeStyle = 'rgba(128, 128, 128, 0.6)';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Move pitch indicator based on current offset
            const pitchIndicator = document.getElementById('pitchIndicator');
            if (pitchIndicator && waveformPoints.length > 0) {
                const latestOffset = waveformPoints[0].offset;
                // Calculate pixel position then convert to percentage
                const indicatorX = centerX + (latestOffset * maxOffset);
                const newX = (indicatorX / width) * 100;
                pitchIndicator.style.left = `${newX}%`;
            } else if (pitchIndicator) {
                pitchIndicator.style.left = `${((centerX) / width) * 100}%`;
            }

            if (waveformPoints.length < 3) return;

            // Starting Y position - at the bottom edge of the pitch indicator circle
            const startY = 60; // Just below the bottom edge of the 58px circle
            const pointSpacing = 3; // Fixed spacing between points (pixels)
            const maxY = height + 20; // Allow points to go slightly beyond canvas before removal

            // Generate curve points - each point flows down at fixed spacing
            const curvePoints = [];
            for (let i = 0; i < waveformPoints.length; i++) {
                const point = waveformPoints[i];
                // Each point is at a fixed distance below the previous one
                const y = startY + (i * pointSpacing);
                
                // Skip points that are way off screen
                if (y > maxY) continue;
                
                const x = centerX + (point.offset * maxOffset);
                curvePoints.push({ x, y, color: point.color, index: i });
            }

            if (curvePoints.length < 3) return;

            // Draw smooth curve with gradient segments
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            // Draw curve segments with Catmull-Rom spline interpolation
            for (let i = 0; i < curvePoints.length - 1; i++) {
                const p0 = curvePoints[Math.max(0, i - 1)];
                const p1 = curvePoints[i];
                const p2 = curvePoints[Math.min(curvePoints.length - 1, i + 1)];
                const p3 = curvePoints[Math.min(curvePoints.length - 1, i + 2)];

                // Calculate how far down the screen this point is (0 to 1)
                const progress = (p1.y - startY) / (height - startY);
                
                // Fade out as points approach bottom of screen
                const opacity = Math.max(0, 1 - progress * 1.2);
                // Line gets thinner as it trails away
                const lineWidth = Math.max(1.5, 5 - progress * 4);

                if (opacity <= 0) continue;

                ctx.beginPath();
                ctx.moveTo(p1.x, p1.y);

                // Catmull-Rom to Bezier conversion for smooth curves
                const tension = 0.5;
                const cp1x = p1.x + (p2.x - p0.x) * tension / 3;
                const cp1y = p1.y + (p2.y - p0.y) * tension / 3;
                const cp2x = p2.x - (p3.x - p1.x) * tension / 3;
                const cp2y = p2.y - (p3.y - p1.y) * tension / 3;

                ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, p2.x, p2.y);

                ctx.strokeStyle = p1.color.replace('1)', `${opacity})`);
                ctx.lineWidth = lineWidth;
                ctx.stroke();
            }
        }

        // Get color based on Hz offset
        function getColorForOffset(hzDiff) {
            const abs = Math.abs(hzDiff);
            if (abs <= 3) return 'rgba(34, 197, 94, 1)'; // Green
            if (abs <= 15) return 'rgba(251, 191, 36, 1)'; // Yellow
            return 'rgba(239, 68, 68, 1)'; // Red
        }

        // Main tuning animation loop
        function runTuningAnimation() {
            if (!animationRunning) return;

            const scale = getCurrentScaleData();
            const currentNote = scale.notes[currentStringIndex];

            if (tuningPhase === 'approaching') {
                // Simulate realistic tuning behavior
                // Phase 1: Start near center, drift outward slightly
                // Phase 2: Come back toward center and settle
                
                if (currentHzOffset === 0 && !window.tuningDirection) {
                    // Initialize: start with small offset (-5 to -8 or +5 to +8)
                    window.tuningDirection = Math.random() > 0.5 ? 1 : -1;
                    currentHzOffset = window.tuningDirection * (4 + Math.random() * 2); // Start at 4-6
                    window.tuningMaxReached = false;
                    window.tuningPeakOffset = window.tuningDirection * (7 + Math.random() * 3); // Peak at 7-10
                }

                // Phase 1: Drift outward until reaching peak
                if (!window.tuningMaxReached) {
                    const driftSpeed = 0.15 + Math.random() * 0.1;
                    if (window.tuningDirection > 0) {
                        currentHzOffset += driftSpeed;
                        if (currentHzOffset >= window.tuningPeakOffset) {
                            window.tuningMaxReached = true;
                        }
                    } else {
                        currentHzOffset -= driftSpeed;
                        if (currentHzOffset <= window.tuningPeakOffset) {
                            window.tuningMaxReached = true;
                        }
                    }
                } else {
                    // Phase 2: Approach center smoothly
                    const absOffset = Math.abs(currentHzOffset);
                    const approachSpeed = Math.max(0.12, absOffset * 0.04) + Math.random() * 0.08;

                    if (currentHzOffset > 0) {
                        currentHzOffset -= approachSpeed;
                        if (currentHzOffset < 0) currentHzOffset = 0;
                    } else {
                        currentHzOffset += approachSpeed;
                        if (currentHzOffset > 0) currentHzOffset = 0;
                    }
                }

                // Add waveform point with smooth normalized offset
                const normalizedOffset = (currentHzOffset / 22).clamp(-1, 1);
                waveformPoints.unshift({
                    offset: normalizedOffset,
                    color: getColorForOffset(currentHzOffset)
                });
                // Remove points that have flowed off screen
                // With 3px spacing and ~200px visible area, keep around 70-80 points max
                const maxPoints = 75;
                while (waveformPoints.length > maxPoints) {
                    waveformPoints.pop();
                }

                updatePitchIndicator('approaching', currentHzOffset);
                drawWaveform();

                // Check if in tune (tighter threshold)
                if (Math.abs(currentHzOffset) <= 1.5) {
                    tuningPhase = 'detected';
                    highlightButton(currentNote.position, true);
                    updatePitchIndicator('detected');

                    // Start fading out the waveform lines gradually
                    fadeOutWaveform();

                    // Stay detected for 1.2 seconds
                    phaseTimer = setTimeout(() => {
                        tuningPhase = 'waiting';
                        setTimeout(() => {
                            // Move to next string
                            highlightButton(currentNote.position, false);
                            currentStringIndex = (currentStringIndex + 1) % 4;
                            currentHzOffset = 0;
                            waveformPoints = [];
                            // Reset tuning state for new string
                            window.tuningDirection = null;
                            window.tuningMaxReached = false;
                            window.tuningPeakOffset = null;
                            tuningPhase = 'approaching';
                        }, 400);
                    }, 1200);
                }
            }

            if (animationRunning) {
                // Higher frame rate for smoother animation (30fps)
                animationInterval = setTimeout(runTuningAnimation, 33);
            }
        }

        // Gradually fade out waveform when in tune
        function fadeOutWaveform() {
            if (waveformPoints.length === 0) return;
            
            const fadeInterval = setInterval(() => {
                // Continue flowing down and remove points from top
                if (waveformPoints.length > 0) {
                    // Add center point (offset 0) to keep line flowing to center
                    waveformPoints.unshift({
                        offset: 0,
                        color: 'rgba(34, 197, 94, 1)' // Green
                    });
                    // Remove old points faster
                    if (waveformPoints.length > 3) {
                        waveformPoints.pop();
                        waveformPoints.pop();
                    }
                    drawWaveform();
                } else {
                    clearInterval(fadeInterval);
                    drawWaveform(); // Final clear
                }
            }, 40);
            
            // Safety: clear after max time
            setTimeout(() => {
                clearInterval(fadeInterval);
                waveformPoints = [];
                drawWaveform();
            }, 800);
        }

        // Start animation
        function startTuningAnimation() {
            if (animationRunning) return;

            animationRunning = true;
            currentStringIndex = 0;
            currentHzOffset = 0;
            tuningPhase = 'approaching';
            waveformPoints = [];
            // Reset tuning state
            window.tuningDirection = null;
            window.tuningMaxReached = false;
            window.tuningPeakOffset = null;
            clearAllButtonHighlights();

            runTuningAnimation();
        }

        // Stop animation
        function stopTuningAnimation() {
            animationRunning = false;
            if (animationInterval) {
                clearTimeout(animationInterval);
                animationInterval = null;
            }
            if (phaseTimer) {
                clearTimeout(phaseTimer);
                phaseTimer = null;
            }
            clearAllButtonHighlights();
            updatePitchIndicator('idle');
            waveformPoints = [];
            currentHzOffset = 0;
            // Reset tuning state
            window.tuningDirection = null;
            window.tuningMaxReached = false;
            window.tuningPeakOffset = null;
            drawWaveform();
        }

        // Number clamp helper
        Number.prototype.clamp = function (min, max) {
            return Math.min(Math.max(this, min), max);
        };

        // Render scale list
        function renderScaleList(containerId, scaleIds, showDragHandle = false) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            scaleIds.forEach((scaleId, index) => {
                const scale = scales.find(s => s.id === scaleId);
                if (!scale) return;

                const isSelected = currentScale === scaleId;
                const isFavorite = favorites.includes(scaleId);

                const item = document.createElement('div');
                item.className = 'scale-item' + (isSelected ? ' selected' : '');
                item.dataset.scaleId = scaleId;
                item.dataset.index = index;
                if (showDragHandle) item.draggable = true;

                item.innerHTML = `
                    <div class="scale-item-header">
                        <div class="scale-item-left">
                            <span class="scale-item-name">${scale.name}</span>
                            <span class="scale-item-desc">${scale.description}</span>
                            <div class="scale-item-notes">
                                ${scale.notes.map(n => `<span class="scale-note-tag">${n.note}${n.octave} (${n.hz.toFixed(0)}Hz)</span>`).join('')}
                            </div>
                        </div>
                        <div class="scale-item-actions">
                            ${isSelected ? '<span class="scale-selected-icon">‚úì</span>' : ''}
                            <div class="scale-action-column">
                                <span class="scale-favorite-btn ${isFavorite ? 'favorited' : ''}" data-scale="${scaleId}">
                                    ${isFavorite ? '‚ù§Ô∏è' : 'ü§ç'}
                                </span>
                                ${showDragHandle ? '<div class="scale-drag-handle"><span></span><span></span></div>' : ''}
                            </div>
                        </div>
                    </div>
                `;

                item.addEventListener('click', (e) => {
                    if (!e.target.closest('.scale-favorite-btn') && !e.target.closest('.scale-drag-handle')) {
                        selectScale(scaleId);
                    }
                });

                // Drag and drop for favorites
                if (showDragHandle) {
                    item.addEventListener('dragstart', (e) => {
                        e.dataTransfer.setData('text/plain', scaleId);
                        item.classList.add('dragging');
                        draggedItem = item;
                    });

                    item.addEventListener('dragend', () => {
                        item.classList.remove('dragging');
                        draggedItem = null;
                    });

                    item.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        if (draggedItem && draggedItem !== item) {
                            const rect = item.getBoundingClientRect();
                            const midY = rect.top + rect.height / 2;
                            if (e.clientY < midY) {
                                item.style.borderTop = '2px solid #22C55E';
                                item.style.borderBottom = '';
                            } else {
                                item.style.borderBottom = '2px solid #22C55E';
                                item.style.borderTop = '';
                            }
                        }
                    });

                    item.addEventListener('dragleave', () => {
                        item.style.borderTop = '';
                        item.style.borderBottom = '';
                    });

                    item.addEventListener('drop', (e) => {
                        e.preventDefault();
                        item.style.borderTop = '';
                        item.style.borderBottom = '';

                        const draggedScaleId = e.dataTransfer.getData('text/plain');
                        const targetScaleId = scaleId;

                        if (draggedScaleId !== targetScaleId) {
                            const draggedIdx = favorites.indexOf(draggedScaleId);
                            const targetIdx = favorites.indexOf(targetScaleId);

                            if (draggedIdx > -1 && targetIdx > -1) {
                                // Remove from old position
                                favorites.splice(draggedIdx, 1);
                                // Insert at new position
                                const newIdx = favorites.indexOf(targetScaleId);
                                const rect = item.getBoundingClientRect();
                                const midY = rect.top + rect.height / 2;
                                if (e.clientY < midY) {
                                    favorites.splice(newIdx, 0, draggedScaleId);
                                } else {
                                    favorites.splice(newIdx + 1, 0, draggedScaleId);
                                }
                                renderAllScales();
                            }
                        }
                    });
                }

                container.appendChild(item);
            });

            // Add favorite toggle listeners
            container.querySelectorAll('.scale-favorite-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const scaleId = btn.dataset.scale;
                    toggleFavorite(scaleId);
                });
            });
        }

        let draggedItem = null;

        // Toggle favorite
        function toggleFavorite(scaleId) {
            const idx = favorites.indexOf(scaleId);
            if (idx > -1) {
                favorites.splice(idx, 1);
            } else {
                favorites.push(scaleId);
            }
            renderAllScales();
        }

        // Select scale
        function selectScale(scaleId) {
            // Stop current animation
            stopTuningAnimation();

            currentScale = scaleId;
            updateScaleUI();
            renderAllScales();

            // Go back to tuner tab
            showTab('tunerTab');

            // Restart animation
            setTimeout(startTuningAnimation, 500);
        }

        // Render all scale lists
        function renderAllScales() {
            renderScaleList('favContent', favorites, true);
            renderScaleList('allContent', scales.map(s => s.id), false);
        }

        // Show tab
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-item').forEach(item => item.classList.remove('active'));

            document.getElementById(tabId).classList.add('active');
            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');

            // Stop animation when leaving tuner tab
            if (tabId !== 'tunerTab') {
                stopTuningAnimation();
            } else {
                // Restart animation when returning to tuner tab
                setTimeout(startTuningAnimation, 300);
            }
        }

        // Show course modal
        function showCourseModal() {
            document.getElementById('courseModal').classList.add('active');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Add waveform canvas to waveform container
            const waveformContainer = document.getElementById('waveformContainer');
            if (waveformContainer) {
                const canvas = document.createElement('canvas');
                canvas.id = 'waveformCanvas';
                canvas.width = 300;
                canvas.height = 160;
                canvas.style.cssText = 'width:100%;height:100%;position:absolute;top:0;left:0;';
                waveformContainer.appendChild(canvas);
            }

            // Tab navigation
            document.querySelectorAll('.tab-item').forEach(item => {
                item.addEventListener('click', () => showTab(item.dataset.tab));
            });

            // Scale selector
            const scaleSelector = document.getElementById('scaleSelector');
            if (scaleSelector) {
                scaleSelector.addEventListener('click', () => {
                    showTab('scaleTab');
                });
            }

            // Scale back button
            const scaleBackBtn = document.getElementById('scaleBackBtn');
            if (scaleBackBtn) {
                scaleBackBtn.addEventListener('click', () => {
                    showTab('tunerTab');
                });
            }

            // Scale tabs
            document.querySelectorAll('.scale-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.scale-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.scale-tab-content').forEach(c => c.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById(tab.dataset.tab + 'Content').classList.add('active');
                });
            });

            // Auto toggle
            const autoToggle = document.getElementById('autoToggle');
            if (autoToggle) {
                autoToggle.addEventListener('click', function () {
                    this.classList.toggle('active');
                });
            }

            // Social media tabs (Desktop)
            document.querySelectorAll('.social-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.social-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.social-panel').forEach(p => p.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById(tab.dataset.social + 'Panel').classList.add('active');
                });
            });

            // Initialize UI
            updateScaleUI();
            renderAllScales();

            // Start animation
            setTimeout(startTuningAnimation, 1000);
        });

        // TikTok Share Popup Functions
        function openTikTokSharePopup() {
            document.getElementById('tiktokSharePopup').style.display = 'flex';
            document.getElementById('tiktokCopyMsg').style.display = 'none';
        }

        function closeTikTokSharePopup() {
            document.getElementById('tiktokSharePopup').style.display = 'none';
        }

        function copyTikTokLink() {
            const input = document.getElementById('tiktokLinkInput');
            input.select();
            input.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(input.value);
            document.getElementById('tiktokCopyMsg').style.display = 'block';
            setTimeout(() => {
                document.getElementById('tiktokCopyMsg').style.display = 'none';
            }, 2000);
        }

        // TikTok Tab Switching
        function switchTikTokTab(tab) {
            const videosTab = document.getElementById('tiktokVideosTab');
            const likedTab = document.getElementById('tiktokLikedTab');
            const indicator = document.getElementById('tiktokTabIndicator');

            if (tab === 'videos') {
                videosTab.style.color = 'white';
                likedTab.style.color = 'rgba(255,255,255,0.5)';
                indicator.style.left = '0';
            } else {
                likedTab.style.color = 'white';
                videosTab.style.color = 'rgba(255,255,255,0.5)';
                indicator.style.left = '50%';
            }
        }

        // Close popup when clicking outside
        document.getElementById('tiktokSharePopup').addEventListener('click', function (e) {
            if (e.target === this) {
                closeTikTokSharePopup();
            }
        });
    </script>
</body>

</html>